<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Tus Publicaciones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">

  <link rel="stylesheet" href="css/stylepublicaciones.css">
</head>
<body>

<header class="top-bar">
  <span class="material-icons-outlined back" onclick="goBack()">
    arrow_back_ios
  </span>
  <h1>TUS PUBLICACIONES</h1>
</header>



<main class="container mt-4">
  <div id="posts"></div>
</main>

<button
  class="fab material-icons-outlined"
  data-bs-toggle="offcanvas"
  data-bs-target="#createCanvas">
  add
</button>

<div class="offcanvas offcanvas-bottom custom-offcanvas" tabindex="-1" id="createCanvas">
  <div class="offcanvas-body">
    <button class="action edit" onclick="createPost()">Crear publicación</button>
    <button class="action cancel" data-bs-dismiss="offcanvas">Cancelar</button>
  </div>
</div>

<div class="offcanvas offcanvas-bottom custom-offcanvas" tabindex="-1" id="optionsCanvas">
  <div class="offcanvas-body">
    <button class="action edit" onclick="openEdit()">Editar publicación</button>
    <button class="action delete" onclick="deletePost()">Eliminar publicación</button>
  </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content edit-modal">
      <div class="modal-body">
        <textarea id="editText"></textarea>
        <button class="save-btn" onclick="saveEdit()">Guardar</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

	<script>
let postText = "Me encanta este libroooo"

function createPost() {
  document.getElementById('posts').innerHTML = `
    <div class="post-card">
      <div class="post-header">
        <div class="user">
          <img src="img/pfp.jpg">
          <strong>Tú</strong>
        </div>

        <button
          class="dots material-icons-outlined"
          data-bs-toggle="offcanvas"
          data-bs-target="#optionsCanvas">
          more_horiz
        </button>
      </div>

      <p id="postContent">${postText}</p>

      <div class="post-image">
        <img src="img/elenorandpark.jpeg">
      </div>
    </div>
  `

  bootstrap.Offcanvas.getInstance(
    document.getElementById('createCanvas')
  ).hide()
}
</script>
	
	
<script>
	
function deletePost() {
  document.getElementById('posts').innerHTML = ''
  bootstrap.Offcanvas.getInstance(
    document.getElementById('optionsCanvas')
  ).hide()
}

function openEdit() {
  document.getElementById('editText').value = postText
  new bootstrap.Modal('#editModal').show()
}

function saveEdit() {
  postText = document.getElementById('editText').value
  document.getElementById('postContent').innerText = postText
  bootstrap.Modal.getInstance(
    document.getElementById('editModal')
  ).hide()
}
</script>
	
<script>
  function goBack() {
    window.history.back();
  }
</script>


</body>
</html>
